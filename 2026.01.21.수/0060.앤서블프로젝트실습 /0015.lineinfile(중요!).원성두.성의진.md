정규표현식은 꼭 잘 알아둬야 할 것! 하나 밖에 없으니까 따로 뺀 만큼 잘 알아두기  
로드밸런싱 헬스체크에서 많이 씀 (ps명령어: 프로세스의 상태를 봄 - 엄청나게 많이 나옴)

$ : 현재 커서?  
G : 문서 끝  
1,G : 처음부터 마지막 줄 까지 검색해라  

###   lineinfile: 파일 내의 특정 라인을 찾아서 수정하거나 추가할 때 사용하는 Ansible 기본 모듈입니다.

```
# [중요] 외부 접속 차단 설정: 
# 서버의 네트워크 인터페이스 중 루프백(127.0.0.1) 주소만 바인딩하여 
# 공인 IP나 사설 IP를 통한 외부의 모든 접근 시도를 원천 차단합니다.

- name: 로컬 접속만 허용 (bind-address = 127.0.0.1)
  # Task의 이름을 정의합니다. 실행 시 터미널에 표시되어 어떤 작업인지 알 수 있게 합니다.

  lineinfile:
    # 파일 내의 특정 라인을 찾아서 수정하거나 추가할 때 사용하는 Ansible 기본 모듈입니다.

    path: /etc/mysql/mariadb.conf.d/50-server.cnf
    # 수정한 설정 파일의 절대 경로를 지정합니다. 
    # (Ubuntu/Debian 기준 MariaDB 핵심 설정 파일 위치)

    regexp: '^bind-address'
    # '정규표현식(Regular Expression)'을 사용하여 수정할 라인을 찾습니다.
    # '^'는 라인의 시작을 의미하며, 'bind-address'로 시작하는 줄을 검색합니다.

    line: 'bind-address = 127.0.0.1'
    # regexp로 찾은 줄을 이 내용으로 완전히 교체합니다. 
    # 127.0.0.1은 로컬 호스트를 의미하며, 외부 네트워크 인터페이스를 통한 접속을 차단합니다.

  notify: restart mariadb
  # 이 Task로 인해 파일 내용이 실제로 변경되었을 때만 실행할 'Handler'를 호출합니다.
  # 설정 파일이 바뀌었으므로 서비스를 재시작해야 변경 사항이 적용됩니다.
```
