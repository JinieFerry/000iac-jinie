https://github.com/putto4u/03.Ansible.IaC.InfraAuto/blob/main/0070.Git%EA%B3%BC%20Github/0051.gitea%EC%99%80%20%EA%B3%84%EC%A0%95.md

Gitea를 설치할 때 시스템의 `git` 계정이 자동으로 생성되는지 여부는 **설치 방식(Docker vs Binary)**에 따라 다릅니다. 이 부분을 명확히 구분하여 설명합니다.

---

## 설치 방식에 따른 시스템 계정 생성 차이

Gitea 서비스 구동을 위한 리눅스 시스템 계정(일반적으로 `git` 계정) 생성 여부는 다음과 같습니다.

### 1. Docker를 사용하는 경우 (자동 생성)

Docker 컨테이너를 사용하여 Gitea를 실행하면, **컨테이너 내부 이미지 내부에 `git` 계정이 이미 포함**되어 있습니다.

* **작동 방식:** 사용자가 호스트 OS에서 직접 `git` 계정을 만들 필요가 없습니다. Docker Compose 파일 설정에서 `USER_UID=1000`, `USER_GID=1000`과 같은 환경 변수를 통해 컨테이너 안의 `git` 사용자가 호스트의 어떤 권한과 매핑될지만 지정하면 됩니다.
* **특징:** 호스트 OS를 더럽히지 않고 격리된 환경에서 `git` 계정이 동작하므로 가장 편리합니다.

### 2. Binary(바이너리)를 직접 설치하는 경우 (수동 생성 필수)


#### 2-0.
```
sudo apt update
sudo install -y sqlite3
```

리눅스 서버에 Gitea 실행 파일을 직접 내려받아 서비스를 등록(Systemd 등)할 때는 **관리자가 직접 `git` 계정을 생성**해야 합니다.

* **작동 방식:** 보안을 위해 Gitea를 `root` 권한으로 실행하지 않고 전용 계정으로 실행하기 위함입니다.
* **명령어 예시:**
```bash
# Gitea 실행을 위한 시스템 계정 생성 예시
sudo adduser --system --shell /bin/bash --group --disabled-password --home /home/git git

```


* **주의:** 계정을 먼저 만들지 않고 Gitea를 실행하면 파일 쓰기 권한 오류나 보안 경고가 발생할 수 있습니다.

---

## 서비스 내의 '사용자 계정'은 별개입니다

시스템 계정(OS 레벨)과 별개로, Gitea 서비스에 로그인하여 사용하는 **웹 UI 사용자 계정**은 설치 완료 후 직접 생성해야 합니다.

1. **초기 설정 페이지:** 설치 직후 웹 브라우저(`http://localhost:3000`)에 접속하면 초기 설정 화면이 뜹니다.
2. **관리자 계정 생성:** 설정 페이지 하단에 **'관리자 계정 설정'** 섹션이 있습니다. 여기서 입력한 계정이 Gitea의 첫 번째 사용자(Admin)가 됩니다.
3. **일반 사용자:** 이후에는 관리자가 직접 추가하거나, 설정을 통해 누구나 회원가입을 할 수 있도록 개방할 수 있습니다.

---

## 인프라 구성 시 비용 및 주의사항

* **컴퓨팅 자원 (유료):** Gitea는 경량화된 서비스이지만, 동시 사용자가 늘어나면 EC2 인스턴스의 CPU/RAM 점유율이 올라가며 비용이 증가할 수 있습니다.
* **스토리지 (유료):** 모든 소스 코드는 EBS나 EFS에 저장됩니다. 특히 **EFS**를 사용할 경우 데이터 전송량 및 저장 용량에 따라 예상보다 높은 비용이 발생할 수 있으므로, 단일 서버라면 **EBS(gp3)** 사용을 권장합니다.
* **포트 개방:** 외부에서 접속하려면 AWS 보안 그룹(Security Group)에서 `3000`번(Web)과 `22`번 혹은 `2222`번(SSH) 포트를 반드시 개방해야 합니다.

Next Step: Gitea 초기 설정 시 데이터베이스(MySQL/PostgreSQL) 연결 및 관리자 계정 최적화

---

[Gitea Tutorial: Self-host your own Git platform!](https://www.youtube.com/watch?v=Kg0ct2lBUVg)
이 영상은 Docker를 사용하여 Gitea를 설치하고 초기 사용자 계정을 설정하는 전체 과정을 시각적으로 잘 보여줍니다.
